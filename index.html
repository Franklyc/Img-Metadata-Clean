<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片元数据彻底清除工具</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <header class="fade-in">
            <h1>图片元数据彻底清除工具</h1>
            <p class="subtitle">彻底去除EXIF/IPTC/XMP等元数据，最大限度保持图像质量</p>
        </header>

        <div id="alerts"></div>

        <div class="card fade-in" style="animation-delay: 0.1s;">
            <div id="upload-area" class="upload-area">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">拖放图片文件到此处或点击选择</div>
                <div class="upload-hint">支持 PNG, JPG, JPEG, BMP, WEBP 格式</div>
                <input type="file" id="file-input" multiple accept="image/png, image/jpeg, image/bmp, image/webp">
            </div>

            <div class="btn-group">
                <button id="select-files" class="btn btn-primary">
                    <i class="fas fa-folder-open" style="margin-right: 8px;"></i> 选择文件
                </button>
                <button id="process-files" class="btn btn-secondary" disabled>
                    <i class="fas fa-magic" style="margin-right: 8px;"></i> 清除元数据
                </button>
            </div>

            <div class="download-option"
                style="margin-top: 1rem; display: flex; align-items: center; justify-content: center;">
                <label class="switch" style="margin-right: 10px;">
                    <input type="checkbox" id="zip-download-toggle">
                    <span class="slider round"></span>
                </label>
                <span>打包为ZIP下载</span>
            </div>

            <div id="file-list" class="file-list"></div>

            <div id="progress-container" class="progress-container">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div id="progress-text" class="progress-text">处理中...</div>
            </div>
        </div>

        <!-- Add container for the report -->
        <div id="report-container" class="report-container" style="display: none;">
            <!-- Report content will be generated here by script.js -->
        </div>

        <div class="features">
            <div class="feature-card fade-in" style="animation-delay: 0.2s;">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="feature-title">彻底清除</h3>
                <p class="feature-desc">完全去除EXIF、IPTC、XMP等所有元数据，保护隐私</p>
            </div>
            <div class="feature-card fade-in" style="animation-delay: 0.3s;">
                <div class="feature-icon">
                    <i class="fas fa-image"></i>
                </div>
                <h3 class="feature-title">质量优先</h3>
                <p class="feature-desc">智能处理算法，PNG/BMP无损，JPEG接近无损</p>
            </div>
            <div class="feature-card fade-in" style="animation-delay: 0.4s;">
                <div class="feature-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <h3 class="feature-title">本地处理</h3>
                <p class="feature-desc">100%在浏览器中完成，图片不会上传到任何服务器</p>
            </div>
        </div>
    </div>

    <button id="theme-toggle" class="theme-toggle">
        <i class="fas fa-moon"></i>
    </button> <!-- 引入必要的库 -->
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
    <!-- Note: exif-js is generally for reading, piexif.js is for modifying/removing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/piexifjs/1.0.6/piexif.js"></script>
    <script src="script.js"></script>
</body>

</html>